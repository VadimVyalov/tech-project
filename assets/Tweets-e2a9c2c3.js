import{R as c,g as P,j as o,u as L,a as z,c as g,b as B,d as M,r as x,e as R,f as U,L as D,Q as A}from"./index-e57dfb3d.js";var y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f=c.createContext&&c.createContext(y),i=globalThis&&globalThis.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},i.apply(this,arguments)},H=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function b(e){return e&&e.map(function(t,r){return c.createElement(t.tag,i({key:r},t.attr),b(t.child))})}function v(e){return function(t){return c.createElement(W,i({attr:i({},e.attr)},t),b(e.child))}}function W(e){var t=function(r){var n=e.attr,s=e.size,l=e.title,u=H(e,["attr","size","title"]),p=s||r.size||"1em",a;return r.className&&(a=r.className),e.className&&(a=(a?a+" ":"")+e.className),c.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,u,{className:a,style:i(i({color:e.color||r.color},r.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&c.createElement("title",null,l),e.children)};return f!==void 0?c.createElement(f.Consumer,null,function(r){return t(r)}):t(y)}function q(e){return v({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"}}]})(e)}var w={exports:{}},V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$=V,G=$;function j(){}function N(){}N.resetWarningCache=j;var Q=function(){function e(n,s,l,u,p,a){if(a!==G){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:N,resetWarningCache:j};return r.PropTypes=r,r};w.exports=Q();var I=w.exports;const m=P(I);function Y(e){return v({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zm.001 6c-.001 0-.001 0 0 0h-.465l-2.667-4H20l.001 4zM9.536 9 6.869 5h2.596l2.667 4H9.536zm5 0-2.667-4h2.596l2.667 4h-2.596zM4 5h.465l2.667 4H4V5zm0 14v-8h16l.002 8H4z"}},{tag:"path",attr:{d:"m10 18 5.5-3-5.5-3z"}}]})(e)}const k=({onSubmit:e})=>o.jsx("div",{className:`flex items-center justify-center px-6 py-3 text-white 
              bg-sky-600 z-50 shadow-md `,children:o.jsxs("form",{onSubmit:e,className:`flex items-center w-full max-w-xl 
                  overflow-hidden bg-white rounded`,children:[o.jsx("button",{type:"submit",className:`inline-block w-12 h-12 bg-inherit text-sky-500 
                  opacity-60 transition-opacity duration-300 hover:opacity-100`,children:o.jsx(Y,{className:"block h-full w-full"})}),o.jsx("input",{name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",className:`inline-block w-full px-1 outline-none 
                    font-sans font-normal text-xl text-black 
                    placeholder:text-lg`})]})});k.propTypes={onSubmit:m.func.isRequired};const J=new URL("/assets/following-7efd735d.png",self.location).href,_=({userInfo:e})=>{const[t]=L(),r=n=>{t({id:n,followers:e.followers-e.following*2+1})};return o.jsx("div",{className:`  w-[380px] h-[460px] rounded-[20px] shadow-[-3px_7px_21px_rgba(0,0,0,0.23)]
  bg-gradient-to-br from-[#471CA9] from-0% via-[#5736A3] via-55% to-[#4B2A99] to-80% `,children:o.jsxs("div",{style:{"--image-url":`url(${J})`},className:"  w-full h-full bg-[image:var(--image-url)] rounded-[20px] flex  items-center flex-col justify-end",children:[o.jsx("img",{className:"w-[64px] h-64[px] mb-8 rounded-full",src:e.avatar?e.avatar:"https://via.placeholder.com/80x80/cccccc/db0404.jpg?text=NA",width:500,height:280,onError:({currentTarget:n})=>{n.onerror=null,n.src="https://via.placeholder.com/80х80/cccccc/db0404.jpg?text=NA"},alt:`Poster: ${e.name}`}),o.jsx("h2",{className:"mb-4 font-['MontserratMedium'] font-medium uppercase text-xl/[24px] text-[#EBD8FF]",children:`tweets ${e.tweets} `}),o.jsx("h2",{className:"mb-7 font-['MontserratMedium'] font-medium uppercase text-xl/[24px] text-[#EBD8FF]",children:`followers ${e.followers.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} `}),o.jsx("button",{onClick:()=>r(e.id),style:{"--isFolloving":e.following?"#5CD3A8":"#EBD8FF"},className:`mb-9  w-[196px] h-[50px] bg-[var(--isFolloving)] 
      font-['MontserratSemiBold'] font-semibold uppercase text-lg/[22px] text-[#373737]
      shadow-[0_4px_4px_rgba(0,0,0,0.25)]`,children:e.following?"Following":"Follow"})]})})};_.prototype={userInfo:m.shape};const T=({title:e=null,users:t})=>o.jsxs(o.Fragment,{children:[e&&o.jsx("h1",{className:" text-center text-2xl font-semibold text-stone-800",children:e}),o.jsx("ul",{className:`gap-6 grid pt-6
                grid-cols-1
                lg:grid-cols-2 
                xl:grid-cols-3
  `,children:t.map(r=>o.jsx("li",{children:o.jsx(_,{userInfo:r})},r.id))})]});T.prototype={title:m.string,films:m.array.isRequired,location:m.shape};const K=[],X=3,Z=e=>e.filter,ee=e=>e.users.currentUsers,te=z.endpoints.getUsers.select(X),re=g(te,e=>(e==null?void 0:e.data)??K);g([Z,re],(e,t)=>t.filter(r=>r.name.toLowerCase().includes(e)));const se=()=>{const e=B(),t=M(),r=e.pathname.from??"/",[n,s]=x.useState(1),{data:l,isLoading:u,isError:p}=R(n),a=U(ee),[d,S]=x.useState(!0),F=!u&&!p,C=u&&!p;x.useEffect(()=>{(l==null?void 0:l.length)<3&&S(!1)},[l]);const E=h=>{h.preventDefault();const O=h.currentTarget.elements.query;if(!h.currentTarget.elements.query.value.trim()){A.error("Введи ");return}O.value=""};return o.jsxs(o.Fragment,{children:[o.jsx(k,{onSubmit:E}),o.jsxs("button",{onClick:()=>t(r),className:`bg-sky-200 px-3 mb-4 rounded-md flex items-center gap-2
                    border border-stone-400 border-solid 
                  hover:bg-sky-400 hover:shadow hover:shadow-sky-500`,children:[o.jsx(q,{}),"Back to home"]}),C&&o.jsx(D,{}),F&&o.jsx(T,{title:"У трендах",users:a,location:e}),d&&o.jsx("button",{onClick:()=>s(n+1),className:`mb-9  w-[196px] h-[50px] bg-[#EBD8FF] 
      font-['MontserratSemiBold'] font-semibold uppercase text-lg/[22px] text-[#373737]
      shadow-[0_4px_4px_0_rgba(0,0,0,0.25)]`,children:"Load more"})]})};export{se as default};
