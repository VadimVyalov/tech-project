import{j as t,c as w,r as o,u as L,a as N,O as M}from"./index-30936eb3.js";import{u as y}from"./apiGet-07db7467.js";import{L as m}from"./Loader-61c9142e.js";import{G as c,E as B}from"./ErrorMessage-8cabbd75.js";import{P as l}from"./index-6f2c059f.js";import{B as p}from"./SharedLayout-b6463633.js";import"./react-toastify.esm-8e66b885.js";function z(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"}}]})(e)}const u=({movieInfo:e})=>t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 my-4",children:[t.jsx("img",{className:"flex flex-1",src:e.backdrop_path?`https://image.tmdb.org/t/p/w500/${e.backdrop_path}`:"https://via.placeholder.com/500x280/cccccc/db0404.jpg?text=No+image",width:500,height:280,onError:({currentTarget:s})=>{s.onerror=null,s.src="https://via.placeholder.com/500x280/cccccc/db0404.jpg?text=No+image"},alt:`Poster: ${e.title}`}),t.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[t.jsx("h2",{className:"text-xl font-medium text-stone-900",children:`${e.original_title} (${e.release_date.slice(0,4)})`}),t.jsxs("p",{children:["User score: ",e.vote_average]}),t.jsx("h3",{className:"text-base font-medium text-stone-800",children:"Overview"}),t.jsx("p",{className:"text-sm italic font-medium text-stone-600",children:e.overview}),t.jsx("h3",{className:"text-base font-medium text-stone-800",children:"Genres"}),t.jsx("p",{children:e.genres.map(s=>s.name).join(" | ")})]})]});u.prototype={movieInfo:l.shape};function C(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m7.646 9.354-3.792 3.792a.5.5 0 0 0 .353.854h7.586a.5.5 0 0 0 .354-.854L8.354 9.354a.5.5 0 0 0-.708 0z"}},{tag:"path",attr:{d:"M11.414 11H14.5a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-13a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h3.086l-1 1H1.5A1.5 1.5 0 0 1 0 10.5v-7A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v7a1.5 1.5 0 0 1-1.5 1.5h-2.086l-1-1z"}}]})(e)}function H(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12z"}},{tag:"path",attr:{d:"M12 15l1.57-3.43L17 10l-3.43-1.57L12 5l-1.57 3.43L7 10l3.43 1.57z"}}]})(e)}const g=({link:e,state:s})=>t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-medium text-stone-800",children:"Additional information"}),t.jsxs("div",{className:"flex gap-3 my-4",children:[t.jsxs(p,{link:()=>e("cast",{state:s}),children:[t.jsx(C,{}),"Cast"]}),t.jsxs(p,{link:()=>e("reviews",{state:s}),children:[t.jsx(H,{}),"Reviews"]})]})]});g.prototype={link:l.func.isRequired,state:l.shape};const F=()=>{var x;const{id:e}=w(),[s,v]=o.useState(null),d=L(),i=((x=d.state)==null?void 0:x.from)??"/",r=N(),j=`/movie/${e}`,{data:n,isLoaded:f,error:a}=y(j),h=o.useCallback(()=>r(i),[i,r]);o.useEffect(()=>{n!==null&&v(n),a&&B(a,h)},[a,n,h]);const k=s&&!a,b=f&&!a;return t.jsxs(t.Fragment,{children:[b&&t.jsx(m,{}),k&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>r(i),className:`bg-sky-200 px-3 mb-4 rounded-md flex items-center gap-2
                    border border-stone-400 border-solid 
                  hover:bg-sky-400 hover:shadow hover:shadow-sky-500`,children:[t.jsx(z,{}),"Back to list"]}),t.jsx(u,{movieInfo:s}),t.jsx(g,{link:r,state:d.state}),t.jsx(o.Suspense,{fallback:t.jsx(m,{}),children:t.jsx(M,{})})]})]})};export{F as default};
